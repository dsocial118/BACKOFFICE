{% extends "includes/main.html" %}
{% load static %}
{% block head %}{% endblock %}
{% block title %}Ciudadano{% endblock %}
{% block titulo-pagina %}{% endblock %}
{% block breadcrumb %}
    {% include 'components/breadcrumb.html' with items=breadcrumb_items %}
{% endblock %}
{% block menu-adicional %}{% endblock %}
{% block content %}
    {% include 'components/search_bar.html' with titulo="Buscar Ciudadano" placeholder="Buscar" help_text="Ingresar DNI o apellido." reset_url=reset_url add_url=add_url show_add_button=can_add query=query %}
    <div class="row mt-5">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <table class="table table-bordered table-striped projects">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Documento</th>
                                <th>Sexo</th>
                                <th>Localidad</th>
                                <th>Estado</th>
                                <th style="width: 15%" class="notexport">Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for o in object_list %}
                                <tr>
                                    <td>
                                        <a href="{% url 'ciudadanos_ver' o.id %}"
                                           class="font-weight-bold"
                                           title="Ver detalles">{{ o.apellido }} {{ o.nombre }}</a>
                                    </td>
                                    <td>{{ o.tipo_documento }} {{ o.documento }}</td>
                                    <td>{{ o.sexo }}</td>
                                    <td>{{ o.localidad }}</td>
                                    <td>
                                        {% if o.estado %}
                                            <span class="text-success font-weight-bold">Activo</span>
                                        {% else %}
                                            <span class="text-danger font-weight-bold">Inactivo</span>
                                        {% endif %}
                                    </td>
                                    <td class="project-actions text-right">
                                        {% if perms.Usuarios.rol_admin %}
                                            <div class="btn-group" role="group">
                                                <a href="{% url 'ciudadanos_ver' o.id %}"
                                                   class="btn btn-primary btn-sm ver">Ver</a>
                                                <a href="{% url 'ciudadanos_editar' o.id %}"
                                                   class="btn btn-primary btn-sm editar">Editar</a>
                                                <a href="{% url 'ciudadanos_eliminar' o.id %}"
                                                   class="btn btn-danger btn-sm eliminar">Eliminar</a>
                                            </div>
                                        {% endif %}
                                    </td>
                                </tr>
                            {% empty %}
                                <tr>
                                    <td colspan="6" class="text-center text-muted py-4">No hay ciudadanos para mostrar</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    {% include 'components/pagination.html' with is_paginated=is_paginated page_obj=page_obj page_range=page_range query=query %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block customJS %}{% endblock %}
