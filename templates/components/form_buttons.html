{# Componente Form Buttons #}
{# Uso: {% include 'components/form_buttons.html' with cancel_url=cancel_url buttons=form_buttons layout='between' %} #}

<div class="row">
    <div class="col-md-12">
        <div class="form-group mb-0 mt-3 d-flex {% if layout == 'center' %}justify-content-center{% elif layout == 'end' %}justify-content-end{% else %}justify-content-between{% endif %}">
            {% if cancel_button or cancel_url %}
                <a href="{{ cancel_button.url|default:cancel_url }}" 
                   class="btn btn-{{ cancel_button.type|default:'secondary' }} mb-3">
                    {% if cancel_button.icon %}<i class="{{ cancel_button.icon }} me-1"></i>{% endif %}
                    {{ cancel_button.text|default:"Cancelar" }}
                </a>
            {% endif %}
            
            <div {% if layout == 'center' or layout == 'end' and not cancel_button and not cancel_url %}class="d-flex justify-content-center"{% endif %}>
                {% if buttons %}
                    {% for button in buttons %}
                        <button type="{{ button.type|default:'submit' }}" 
                                {% if button.id %}id="{{ button.id }}"{% endif %}
                                {% if button.name %}name="{{ button.name }}"{% endif %}
                                class="btn btn-{{ button.style|default:'primary' }} mb-3 {% if button.class %}{{ button.class }}{% endif %} {% if not forloop.last %}me-2{% endif %}"
                                {% if button.onclick %}onclick="{{ button.onclick }}"{% endif %}
                                {% if button.disabled %}disabled{% endif %}>
                            {% if button.icon %}<i class="{{ button.icon }} me-1"></i>{% endif %}
                            {{ button.text }}
                        </button>
                    {% endfor %}
                {% else %}
                    {# Botones por defecto #}
                    {% if default_save %}
                        <button type="submit" class="btn btn-primary mb-3">
                            <i class="fas fa-save me-1"></i> {{ save_text|default:"Guardar" }}
                        </button>
                    {% endif %}
                    {% if default_continue %}
                        <button type="submit" name="continue" class="btn btn-secondary mb-3 ms-2">
                            <i class="fas fa-arrow-right me-1"></i> {{ continue_text|default:"Continuar" }}
                        </button>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
</div>